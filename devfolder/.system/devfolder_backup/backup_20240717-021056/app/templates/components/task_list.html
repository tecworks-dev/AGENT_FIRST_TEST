
<!-- app/templates/components/task_list.html -->
<!-- Reusable component for displaying a list of tasks -->

<div class="task-list">
    <h2>Tasks</h2>
    {% if tasks %}
        <ul class="task-items">
            {% for task in tasks %}
                <li class="task-item" data-task-id="{{ task.id }}">
                    <div class="task-header">
                        <h3 class="task-title">{{ task.title }}</h3>
                        <span class="task-status {{ task.status }}">{{ task.status }}</span>
                    </div>
                    <p class="task-description">{{ task.description }}</p>
                    <div class="task-actions">
                        <button class="btn btn-sm btn-primary edit-task" data-task-id="{{ task.id }}">Edit</button>
                        <button class="btn btn-sm btn-success complete-task" data-task-id="{{ task.id }}">Complete</button>
                        <button class="btn btn-sm btn-danger delete-task" data-task-id="{{ task.id }}">Delete</button>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="no-tasks">No tasks available.</p>
    {% endif %}
    <button id="add-task" class="btn btn-primary">Add New Task</button>
</div>

<script>
    // JavaScript to handle task actions
    document.addEventListener('DOMContentLoaded', function() {
        const taskList = document.querySelector('.task-list');

        taskList.addEventListener('click', function(event) {
            const target = event.target;

            if (target.classList.contains('edit-task')) {
                const taskId = target.getAttribute('data-task-id');
                editTask(taskId);
            } else if (target.classList.contains('complete-task')) {
                const taskId = target.getAttribute('data-task-id');
                completeTask(taskId);
            } else if (target.classList.contains('delete-task')) {
                const taskId = target.getAttribute('data-task-id');
                deleteTask(taskId);
            } else if (target.id === 'add-task') {
                addNewTask();
            }
        });

        function editTask(taskId) {
            // Implement edit task functionality
            console.log('Editing task:', taskId);
        }

        function completeTask(taskId) {
            // Implement complete task functionality
            console.log('Completing task:', taskId);
        }

        function deleteTask(taskId) {
            // Implement delete task functionality
            console.log('Deleting task:', taskId);
        }

        function addNewTask() {
            // Implement add new task functionality
            console.log('Adding new task');
        }
    });
</script>
